apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: partly

labels:
  - includeSelectors: true
    pairs:
      app.kubernetes.io/name: db-restore

resources:
  - db-restore-statefulset.yaml
  - db-restore-cronjob.yaml
  - db-restore-serviceaccount.yaml
  - db-restore-reader-rolebinding.yaml
  - db-restore-reader-role.yaml
  - db-restore-cm-creator-rolebinding.yaml
  - db-restore-cm-creator-role.yaml

configMapGenerator:
  - name: db-restore-script
    files:
      - db-restore.py
  - name: reset-env-script
    files:
      - reset-env.sh

generatorOptions:
  disableNameSuffixHash: true
